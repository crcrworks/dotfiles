# Plan: Change Default Agent to "Plan"

## Summary
Add `default_agent: "plan"` to the OpenCode configuration so that the Plan agent is selected by default when OpenCode opens.

## Files to Modify

**File:** `/Users/crcr/.local/share/chezmoi/dot_config/opencode/opencode.json`

## Change Details

Insert the `"default_agent": "plan"` property at the top level of the configuration, right after the `"model"` property (line 3).

### Before (lines 2-5):
```json
  "$schema": "https://opencode.ai/config.json",
  "model": "zai-coding-plan/glm-4.7",
  "plugin": [
```

### After:
```json
  "$schema": "https://opencode.ai/config.json",
  "model": "zai-coding-plan/glm-4.7",
  "default_agent": "plan",
  "plugin": [
```

## Notes

- The agent identifier is lowercase `"plan"` (matches the custom agent configuration already present in the file at line 10)
- OpenCode will fallback to "build" if the specified agent is invalid, but "plan" is already configured as a valid custom agent
- This change only affects the default selected agent when OpenCode opens; users can still manually select other agents
- The configuration is merged, so this won't override other settings or break existing functionality

## Verification

To verify the change works correctly:

1. **Apply the change**: Edit the `opencode.json` file to add the `default_agent` property
2. **Restart OpenCode**: Close and reopen OpenCode to reload the configuration
3. **Check agent selector**: In the TUI, verify that "Plan" is the currently selected agent
4. **Test behavior**: Send a message and confirm it uses the Plan agent (which will require confirmation before file edits and bash commands by default, per its prompt configuration)

Expected result: When OpenCode opens, the Plan agent should be pre-selected in the agent selector.
