{
  "$schema": "https://opencode.ai/config.json",
  "model": "kimi-for-coding/k2p5",
  "default_agent": "plan",
  "instructions": [
    "~/.config/opencode/rules/**/*.md"
  ],
  "plugin": [
    "opencode-openai-codex-auth@latest",
    "opencode-cursor-auth@latest",
    "opencode-pencil-sync@latest",
    "oh-my-opencode@3.2.1"
  ],
  "agent": {
    "ask": {
      "mode": "primary",
      "model": "kimi-for-coding/k2p5",
      "prompt": "IMPORTANT: Use subagents extensively:\n- Launch multiple codesearch agents in parallel to understand the codebase",
      "tools": {
        "write": false,
        "edit": false,
        "bash": false,
        "patch": false,
        "todowrite": false,
        "read": true,
        "grep": true,
        "glob": true,
        "list": true,
        "todoread": true,
        "webfetch": true
      }
    },
    "general": {
      "mode": "subagent",
      "model": "github-copilot/claude-opus-4.5"
    },
    "explore": {
      "mode": "subagent",
      "model": "github-copilot/claude-opus-4.5",
    },
    "codesearch": {
      "mode": "subagent",
      "model": "github-copilot/claude-opus-4.5",
      "description": "Codebase search and pattern discovery agent"
    },
    "websearch": {
      "mode": "subagent",
      "model": "github-copilot/gpt-5.2",
      "description": "Web search agent for retrieving latest information"
    },
    "planner": {
      "mode": "subagent",
      "model": "github-copilot/gpt-5.2",
      "description": "Feature implementation planning agent"
    },
    "code-reviewer": {
      "mode": "subagent",
      "model": "github-copilot/gpt-5.2",
      "description": "Code quality and security reviewer"
    },
    "security-reviewer": {
      "mode": "subagent",
      "model": "github-copilot/gpt-5.2",
      "description": "Security vulnerability analyzer"
    },
    "tdd-guide": {
      "mode": "subagent",
      "model": "github-copilot/gpt-5.2",
      "description": "TDD workflow guide"
    },
    "build-resolver": {
      "mode": "subagent",
      "model": "github-copilot/claude-opus-4.5",
      "description": "Build error resolver"
    },
    "refactor-cleaner": {
      "mode": "subagent",
      "model": "github-copilot/claude-opus-4.5",
      "description": "Refactoring and dead code removal"
    },
    "spec-reviewer": {
      "mode": "subagent",
      "model": "github-copilot/gpt-5.2",
      "description": "Spec compliance reviewer - verifies implementation matches plan"
    },
    "frontend-designer": {
      "mode": "subagent",
      "model": "github-copilot/gemini-3-flash-preview",
      "description": "Frontend design specialist for UI/UX implementation"
    }
  },
  "provider": {
    "cursor": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "Cursor Agent (local)",
      "options": {
        "baseURL": "http://127.0.0.1:32123/v1"
      },
      "models": {
        "auto": {
          "name": "Cursor Agent Auto"
        },
        "gpt-5": {
          "name": "Cursor Agent GPT-5 (alias â†’ gpt-5.2)"
        },
        "gpt-5.2": {
          "name": "Cursor Agent GPT-5.2"
        },
        "gpt-5.1": {
          "name": "Cursor Agent GPT-5.1"
        },
        "gpt-5.1-codex": {
          "name": "Cursor Agent GPT-5.1 Codex"
        },
        "sonnet-4.5": {
          "name": "Cursor Agent Sonnet 4.5"
        },
        "gemini-3-flash": {
          "name": "Cursor Agent Gemini 3 Flash"
        },
        "sonnet-4.5-thinking": {
          "name": "Cursor Agent Sonnet 4.5 Thinking"
        }
      }
    },
    "lmstudio": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "LM Studio (local)",
      "options": {
        "baseURL": "http://localhost:1234/v1"
      },
      "models": {
        "zai-org/glm-4.7-flash": {
          "name": "GLM 4.7 Flash (local)"
        },
        "qwen/qwen3-coder-next": {
          "name": "Qwen3 Coder Next (local)"
        },
        "openai/gpt-oss-20b": {
          "name": "GPT OSS 20b (local)"
        }
      }
    },
    "openrouter": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "OpenRouter",
      "options": {
        "baseURL": "https://openrouter.ai/api/v1",
        "apiKey": "{env:OPENROUTER_API_KEY}"
      },
      "models": {
        "stepfun/step-3.5-flash:free": {
          "name": "Step 3.5 Flash (free)",
          "options": {
            "supportsImages": false
          },
          "limit": {
            "context": 256000,
            "output": 65536
          },
        }
      }
    }
  },
  "mcp": {
    "pdf-reader": {
      "type": "local",
      "enabled": false,
      "command": [
        "npx",
        "-y",
        "@sylphx/pdf-reader-mcp"
      ]
    },
    "context7": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "@upstash/context7-mcp",
        "--api-key",
        "{env:CONTEXT7_API_KEY}"
      ],
      "enabled": true
    },
    "notion": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "@notionhq/notion-mcp-server"
      ],
      "environment": {
        "NOTION_TOKEN": "{env:NOTION_TOKEN}"
      },
      "enabled": false
    },
    "figma-desktop": {
      "type": "remote",
      "url": "http://127.0.0.1:3845/mcp",
      "enabled": false
    },
    "figma-mcp-server": {
      "type": "local",
      "command": [
        "npx",
        "@antonytm/figma-mcp-server@latest"
      ],
      "environment": {
        "TRANSPORT": "stdio"
      },
      "enabled": false
    },
    "word-document": {
      "type": "local",
      "command": [
        "uvx",
        "--from",
        "office-word-mcp-server==1.1.10",
        "word_mcp_server"
      ],
      "enabled": false
    },
    "github": {
      "type": "local",
      "command": [
        "docker",
        "run",
        "-i",
        "--rm",
        "-e",
        "GITHUB_PERSONAL_ACCESS_TOKEN",
        "ghcr.io/github/github-mcp-server"
      ],
      "environment": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "{env:GITHUB_PERSONAL_ACCESS_TOKEN}"
      },
      "enabled": false
    },
    "markitdown": {
      "type": "local",
      "command": [
        "uvx",
        "markitdown-mcp"
      ],
      "enabled": false
    },
    "stitch": {
      "type": "local",
      "command": [
        "npx",
        "@_davideast/stitch-mcp",
        "proxy"
      ],
      "environment": {
        "STITCH_PROJECT_ID": "{env:GITHUB_PERSONAL_ACCESS_TOKEN}"
      },
      "enabled": false
    },
    "pencil": {
      "type": "local",
      "command": [
        "/Applications/Pencil.app/Contents/Resources/app.asar.unpacked/out/mcp-server-darwin-arm64",
        "--ws-port",
        "62459"
      ],
      "environment": {},
      "enabled": false
    },
    "supabase": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "@supabase/mcp-server-supabase@latest",
        "--access-token",
        "{env:SUPABASE_ACCESS_TOKEN}"
      ],
      "enabled": false
    }
  }
}
